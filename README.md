# ImageDetection

在很早以前(2019 - (2|3))，图片鉴黄是一个单独的人工智能接口，但这次准备做测试时，发现每家的接口都升级了，不但包含鉴黄功能，还有反恐，公众人物，logo，广告识别功能。接口名称也美其名曰升级到图片审核。

这次一开始只是为了做一个图片鉴黄的功能测试，把BAT三家平台的接口都接了一遍。对接后的代码请访问[github](https://github.com/dogvane/ImageDetection)

这里说一下BAT三家对 .NET 的支持情况与碰到的问题。

## Baidu

百度是对接过程中最顺利的，而且它的免费额度也是最大的，接口文档可以在官网上直接查询到c#的sdk，包文件（nuget)与使用说明文档是最好的。但接口返回值使用JObject，在后面解析时，不是很符合我的习惯。

好的地方：
* 官网SDK文档很全面，包含Python, c#, c++, java, nodejs, php
* 免费额度不是次数限制，而是qps

不好的地方：
* 整个平台权限认证体系是割裂的，我使用了翻译，人脸识别，图片审核，一共使用了3套认证key

## Aliyun

阿里的接入过程是我最无语的过程，在我接入的当天，习惯的去他们的大数据/人工智能模块找文档（BT也都是在这个分类下），能看到，大致的看了一下。第二天去看提示文档更新，我还以为是接口升级，就又等了一天，发现还是这个错误，只好发工单给阿里云，最后他们给我发了一个链接，这才知道，他们的接口升级了，接口划归到“内容安全”板块下。目前（2019-12-15）大数据部分还能看到鉴黄接口的链接，但跳转后仍然提示错误。

好的地方：
* 以后补充

不好的地方：
* 没有 .NET 的sdk文档（有.NET的sdk，但网站上没有文档）
* 没有上传数据接口，只能提供url链接，aliyun去负责下载。这点差评，**绝对的差评** 。虽然我知道它的想法是，希望你将图片上传到它的oss，然后接口直接去访问oss可以提高接口效率。但真的，不符合所有用户的使用场景，例如，现在的这个demo。
* API 浏览器烂的1P，比腾讯的难用到不知道哪里去，必须仔细对照原始的接口文档来写api，我用你的api浏览器，就是为了省事，你到让我更加费事。

## Tencent

知道为什么要做这个鉴黄比较demo吗，就是我在QQ群里，看到某人转发的聊天消息，有人利用腾讯AI鉴黄功能的介绍界面提供的接口，然后上传了一些***正常***照片。看到这里的同学，大家应该都会明白结果会是怎样的了。因为是截图，所以没法找到聊天消息里的原图去做测试，或许你们可以帮我找到

好的地方：
* sdk 对.NET开发来说，是最友好的。

不好的地方：
* 提供基本接口说明，但不提供各语言的sdk代码示例，得自己去腾讯云的API浏览器去找。但接口需要用的参数，可以在接口浏览器里看清
* 结果返回的的是迷之结果，百度和阿里，能99%确定没问题的图片，到腾讯这里，确信度都是只有50%，所以说是迷之结果。


# 最后的总结

* 别用阿里云服务，别用阿里云服务，.NET开发真的别用阿里云服务。
* 不商用，不在乎性能的，用百度接口，**真**·免费
* 腾讯处于中间地带，对开发者友好，接口按次数收费，价格可控。
* 对于腾讯的迷之结果，可以利用百度作为二次确认方案，提高图片审核的准确性。





